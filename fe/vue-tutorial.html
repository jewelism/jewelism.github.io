<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue Tutorial | Jewelry Blog</title>
    <meta name="generator" content="VuePress 1.9.10">
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-NG6SBMZL');</script>
    <link rel="icon" href="/images/logo.png">
    <meta name="description" content="dev blog">
    <meta property="og:title" content="Jewelry Blog">
    <meta property="og:description" content="dev blog">
    <meta name="naver-site-verification" property="naver-site-verification" content="5b2f37c7b4199869388745a2b48d71230f79701b">
    
    <link rel="preload" href="/assets/css/0.styles.7b19a011.css" as="style"><link rel="preload" href="/assets/js/app.d8edd250.js" as="script"><link rel="preload" href="/assets/js/2.b813d316.js" as="script"><link rel="preload" href="/assets/js/1.63ec6906.js" as="script"><link rel="preload" href="/assets/js/79.737ec5f0.js" as="script"><link rel="prefetch" href="/assets/js/10.68915e8a.js"><link rel="prefetch" href="/assets/js/100.d48fb8d1.js"><link rel="prefetch" href="/assets/js/101.b5ebbd9c.js"><link rel="prefetch" href="/assets/js/102.982f90cb.js"><link rel="prefetch" href="/assets/js/103.c96dc806.js"><link rel="prefetch" href="/assets/js/104.f1a3e6c7.js"><link rel="prefetch" href="/assets/js/105.bee66f51.js"><link rel="prefetch" href="/assets/js/106.d4e221ac.js"><link rel="prefetch" href="/assets/js/107.17fa7b87.js"><link rel="prefetch" href="/assets/js/108.036293f3.js"><link rel="prefetch" href="/assets/js/109.f902e0bc.js"><link rel="prefetch" href="/assets/js/11.90e8c648.js"><link rel="prefetch" href="/assets/js/110.23cf18f3.js"><link rel="prefetch" href="/assets/js/111.25a08651.js"><link rel="prefetch" href="/assets/js/112.b575ba09.js"><link rel="prefetch" href="/assets/js/113.39d46774.js"><link rel="prefetch" href="/assets/js/114.54b1d77d.js"><link rel="prefetch" href="/assets/js/115.49ad11c7.js"><link rel="prefetch" href="/assets/js/116.d1eb4002.js"><link rel="prefetch" href="/assets/js/117.641cbc64.js"><link rel="prefetch" href="/assets/js/118.8c20b0ee.js"><link rel="prefetch" href="/assets/js/119.5e1499c4.js"><link rel="prefetch" href="/assets/js/12.566e820c.js"><link rel="prefetch" href="/assets/js/120.bd6dbcbf.js"><link rel="prefetch" href="/assets/js/121.fdb8d482.js"><link rel="prefetch" href="/assets/js/122.2b358183.js"><link rel="prefetch" href="/assets/js/123.47da7d6f.js"><link rel="prefetch" href="/assets/js/124.25f4b64b.js"><link rel="prefetch" href="/assets/js/125.3600f35d.js"><link rel="prefetch" href="/assets/js/126.bf9c3ab6.js"><link rel="prefetch" href="/assets/js/127.2a668d3c.js"><link rel="prefetch" href="/assets/js/128.f6e7d7a4.js"><link rel="prefetch" href="/assets/js/129.de543284.js"><link rel="prefetch" href="/assets/js/13.7d78815a.js"><link rel="prefetch" href="/assets/js/130.b8eb138d.js"><link rel="prefetch" href="/assets/js/131.df799559.js"><link rel="prefetch" href="/assets/js/132.87f8fdd2.js"><link rel="prefetch" href="/assets/js/133.1ecedbc9.js"><link rel="prefetch" href="/assets/js/134.050b3131.js"><link rel="prefetch" href="/assets/js/135.67fab777.js"><link rel="prefetch" href="/assets/js/136.5606edf6.js"><link rel="prefetch" href="/assets/js/137.e66661fb.js"><link rel="prefetch" href="/assets/js/138.f9436bbb.js"><link rel="prefetch" href="/assets/js/139.8ea1d596.js"><link rel="prefetch" href="/assets/js/14.a384c04f.js"><link rel="prefetch" href="/assets/js/140.ac02ebc5.js"><link rel="prefetch" href="/assets/js/141.14b29649.js"><link rel="prefetch" href="/assets/js/142.e57ed7db.js"><link rel="prefetch" href="/assets/js/143.06f2348c.js"><link rel="prefetch" href="/assets/js/144.a54de9c0.js"><link rel="prefetch" href="/assets/js/145.8714c371.js"><link rel="prefetch" href="/assets/js/146.afd802e8.js"><link rel="prefetch" href="/assets/js/15.5581965d.js"><link rel="prefetch" href="/assets/js/16.36a6df8c.js"><link rel="prefetch" href="/assets/js/17.58419ce3.js"><link rel="prefetch" href="/assets/js/18.78334840.js"><link rel="prefetch" href="/assets/js/19.31ca3599.js"><link rel="prefetch" href="/assets/js/20.55945dbc.js"><link rel="prefetch" href="/assets/js/21.6ddb8d2b.js"><link rel="prefetch" href="/assets/js/22.8d390135.js"><link rel="prefetch" href="/assets/js/23.5d48bf66.js"><link rel="prefetch" href="/assets/js/24.98a3f2a7.js"><link rel="prefetch" href="/assets/js/25.58157085.js"><link rel="prefetch" href="/assets/js/26.f12be7ca.js"><link rel="prefetch" href="/assets/js/27.8b47009c.js"><link rel="prefetch" href="/assets/js/28.94f9feb0.js"><link rel="prefetch" href="/assets/js/29.5b7d2648.js"><link rel="prefetch" href="/assets/js/3.333fb557.js"><link rel="prefetch" href="/assets/js/30.705c0baa.js"><link rel="prefetch" href="/assets/js/31.fdb59e0f.js"><link rel="prefetch" href="/assets/js/32.2383a55b.js"><link rel="prefetch" href="/assets/js/33.bfbec105.js"><link rel="prefetch" href="/assets/js/34.69f76c89.js"><link rel="prefetch" href="/assets/js/35.9f0aa7e6.js"><link rel="prefetch" href="/assets/js/36.02beee59.js"><link rel="prefetch" href="/assets/js/37.19802134.js"><link rel="prefetch" href="/assets/js/38.5653c840.js"><link rel="prefetch" href="/assets/js/39.e3b746fa.js"><link rel="prefetch" href="/assets/js/4.95c43ca0.js"><link rel="prefetch" href="/assets/js/40.96d79a78.js"><link rel="prefetch" href="/assets/js/41.268c3897.js"><link rel="prefetch" href="/assets/js/42.2339675a.js"><link rel="prefetch" href="/assets/js/43.826b5267.js"><link rel="prefetch" href="/assets/js/44.7eabcb79.js"><link rel="prefetch" href="/assets/js/45.e9a3bb83.js"><link rel="prefetch" href="/assets/js/46.7a822972.js"><link rel="prefetch" href="/assets/js/47.5e9b258d.js"><link rel="prefetch" href="/assets/js/48.6db42384.js"><link rel="prefetch" href="/assets/js/49.99deed78.js"><link rel="prefetch" href="/assets/js/5.9d9e1e88.js"><link rel="prefetch" href="/assets/js/50.7829d7c4.js"><link rel="prefetch" href="/assets/js/51.9941a5c2.js"><link rel="prefetch" href="/assets/js/52.c528219a.js"><link rel="prefetch" href="/assets/js/53.b486f5b8.js"><link rel="prefetch" href="/assets/js/54.3590e606.js"><link rel="prefetch" href="/assets/js/55.3f5aa439.js"><link rel="prefetch" href="/assets/js/56.d22c590b.js"><link rel="prefetch" href="/assets/js/57.af5f42f5.js"><link rel="prefetch" href="/assets/js/58.b12ffd2f.js"><link rel="prefetch" href="/assets/js/59.32c30e64.js"><link rel="prefetch" href="/assets/js/60.e8005a21.js"><link rel="prefetch" href="/assets/js/61.322cf604.js"><link rel="prefetch" href="/assets/js/62.c11f3a96.js"><link rel="prefetch" href="/assets/js/63.c5506d7b.js"><link rel="prefetch" href="/assets/js/64.0d80102d.js"><link rel="prefetch" href="/assets/js/65.dfb2d864.js"><link rel="prefetch" href="/assets/js/66.370ef41d.js"><link rel="prefetch" href="/assets/js/67.88c9e001.js"><link rel="prefetch" href="/assets/js/68.f338a0d2.js"><link rel="prefetch" href="/assets/js/69.bdb4c5b0.js"><link rel="prefetch" href="/assets/js/70.c38e5f80.js"><link rel="prefetch" href="/assets/js/71.88270db3.js"><link rel="prefetch" href="/assets/js/72.dcd32982.js"><link rel="prefetch" href="/assets/js/73.58f68dab.js"><link rel="prefetch" href="/assets/js/74.4ada683a.js"><link rel="prefetch" href="/assets/js/75.a6d32488.js"><link rel="prefetch" href="/assets/js/76.c0d0c351.js"><link rel="prefetch" href="/assets/js/77.5c46677d.js"><link rel="prefetch" href="/assets/js/78.d2e954df.js"><link rel="prefetch" href="/assets/js/8.ca781c48.js"><link rel="prefetch" href="/assets/js/80.5d71fe19.js"><link rel="prefetch" href="/assets/js/81.217ef913.js"><link rel="prefetch" href="/assets/js/82.7362843c.js"><link rel="prefetch" href="/assets/js/83.5e90d306.js"><link rel="prefetch" href="/assets/js/84.4420de65.js"><link rel="prefetch" href="/assets/js/85.473092ef.js"><link rel="prefetch" href="/assets/js/86.04701726.js"><link rel="prefetch" href="/assets/js/87.83273b43.js"><link rel="prefetch" href="/assets/js/88.676b6f5c.js"><link rel="prefetch" href="/assets/js/89.9ba0b94d.js"><link rel="prefetch" href="/assets/js/9.13b3374f.js"><link rel="prefetch" href="/assets/js/90.eb51ebaa.js"><link rel="prefetch" href="/assets/js/91.7b0c3d93.js"><link rel="prefetch" href="/assets/js/92.af3e1247.js"><link rel="prefetch" href="/assets/js/93.776e9706.js"><link rel="prefetch" href="/assets/js/94.43b48ebf.js"><link rel="prefetch" href="/assets/js/95.ba8e4bc1.js"><link rel="prefetch" href="/assets/js/96.2fa5d3a3.js"><link rel="prefetch" href="/assets/js/97.1c4f3144.js"><link rel="prefetch" href="/assets/js/98.0c7cbaa6.js"><link rel="prefetch" href="/assets/js/99.b171f0e5.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.73bb25e3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7b19a011.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name" style="margin-left:15px;">Jewelry Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/about.html" class="nav-link">About</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/about.html" class="nav-link">About</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/js" class="sidebar-heading clickable"><span>Javascript</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/fe" class="sidebar-heading clickable router-link-active open"><span>Front-End</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe/charles-proxy.html" class="sidebar-link">찰스 프록시 사용하기</a></li><li><a href="/fe/component.html" class="sidebar-link">컴포넌트와 컴포넌트 설계</a></li><li><a href="/fe/cors.html" class="sidebar-link">cors</a></li><li><a href="/fe/csr-ssr.html" class="sidebar-link">CSR, SSR</a></li><li><a href="/fe/css.html" class="sidebar-link">CSS</a></li><li><a href="/fe/jest-snapshot-test.html" class="sidebar-link">Snapshot Test</a></li><li><a href="/fe/optimizing.html" class="sidebar-link">최적화 관련</a></li><li><a href="/fe/pre-render.html" class="sidebar-link">Pre-render</a></li><li><a href="/fe/proxy.html" class="sidebar-link">proxy</a></li><li><a href="/fe/react-auto-batch.html" class="sidebar-link">React Auto Batching</a></li><li><a href="/fe/react-hook-test-jest.html" class="sidebar-link">React Hook Test with Jest</a></li><li><a href="/fe/react-native.html" class="sidebar-link">React-native</a></li><li><a href="/fe/react-tutorial.html" class="sidebar-link">React Tutorial</a></li><li><a href="/fe/react.html" class="sidebar-link">React</a></li><li><a href="/fe/rxjs.html" class="sidebar-link">RxJS</a></li><li><a href="/fe/scrolltobottom.html" class="sidebar-link">scrollToBottom</a></li><li><a href="/fe/seo-check-point.html" class="sidebar-link">SEO Check Point</a></li><li><a href="/fe/testing-in-mobile.html" class="sidebar-link">모바일 브라우저 테스트 환경설정</a></li><li><a href="/fe/virtual-dom.html" class="sidebar-link">Virtual DOM, Key</a></li><li><a href="/fe/vue-tutorial.html" aria-current="page" class="active sidebar-link">Vue Tutorial</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe/vue-tutorial.html#개발환경-설정" class="sidebar-link">개발환경 설정</a></li><li class="sidebar-sub-header"><a href="/fe/vue-tutorial.html#배경지식" class="sidebar-link">배경지식</a></li><li class="sidebar-sub-header"><a href="/fe/vue-tutorial.html#단방향-데이터-플로우" class="sidebar-link">단방향 데이터 플로우</a></li><li class="sidebar-sub-header"><a href="/fe/vue-tutorial.html#이벤트버스" class="sidebar-link">이벤트버스</a></li><li class="sidebar-sub-header"><a href="/fe/vue-tutorial.html#vue" class="sidebar-link">.vue</a></li><li class="sidebar-sub-header"><a href="/fe/vue-tutorial.html#vue-loader" class="sidebar-link">vue-loader</a></li><li class="sidebar-sub-header"><a href="/fe/vue-tutorial.html#virtual-dom-가상돔" class="sidebar-link">virtual dom \(가상돔\)</a></li><li class="sidebar-sub-header"><a href="/fe/vue-tutorial.html#render-function" class="sidebar-link">render function</a></li><li class="sidebar-sub-header"><a href="/fe/vue-tutorial.html#v-stream-디렉티브" class="sidebar-link">v-stream 디렉티브</a></li><li class="sidebar-sub-header"><a href="/fe/vue-tutorial.html#domstream" class="sidebar-link">domStream</a></li><li class="sidebar-sub-header"><a href="/fe/vue-tutorial.html#subscriptions" class="sidebar-link">subscriptions\(\)</a></li></ul></li><li><a href="/fe/watch.html" class="sidebar-link">watch 구현</a></li><li><a href="/fe/web-term.html" class="sidebar-link">웹 관련 용어</a></li><li><a href="/fe/webpack-babel.html" class="sidebar-link">webpack, babel</a></li><li><a href="/fe/webpack-dev-server.html" class="sidebar-link">webpack-dev-server</a></li><li><a href="/fe/webview.html" class="sidebar-link">webview</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/browser" class="sidebar-heading clickable"><span>Web Browser</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/server-side" class="sidebar-heading clickable"><span>Server Side</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/cs" class="sidebar-heading clickable"><span>Computer Science</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/git" class="sidebar-heading clickable"><span>Git</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/design-pattern" class="sidebar-heading clickable"><span>Design Pattern</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/nodejs" class="sidebar-heading clickable"><span>Node.js</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/godot" class="sidebar-heading clickable"><span>godot (고도 게임엔진)</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/tip" class="sidebar-heading clickable"><span>개발 관련 Tip</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue-tutorial"><a href="#vue-tutorial" class="header-anchor">#</a> Vue Tutorial</h1> <h2 id="개발환경-설정"><a href="#개발환경-설정" class="header-anchor">#</a> 개발환경 설정</h2> <h3 id="_1-node-js-설치하기"><a href="#_1-node-js-설치하기" class="header-anchor">#</a> 1. node.js 설치하기</h3> <p><a href="https://nodejs.org/ko/" target="_blank" rel="noopener noreferrer">https://nodejs.org/ko/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_2-텍스트에디터-설치하기"><a href="#_2-텍스트에디터-설치하기" class="header-anchor">#</a> 2. 텍스트에디터 설치하기</h3> <p>추천 에디터</p> <ol><li>WebStorm - 유료</li> <li>vscode - 무료</li></ol> <h3 id="_3-vue-cli로-프로젝트-생성"><a href="#_3-vue-cli로-프로젝트-생성" class="header-anchor">#</a> 3. vue cli로 프로젝트 생성</h3> <div class="language-bash extra-class"><pre class="language-bash"><code>npx @vue/cli create 프로젝트이름
</code></pre></div><p>프로젝트 생성시 여러가지 옵션들을 선택하게되는데, 여기에 대해 잘 모른다면, 두번째 선택지에서 Use NPM을 선택하시고 나머지는 기본을 선택하시면 됩니다. 3.0.4 기준으로는 선택지가 한개밖에없네요. 그냥 선택하고 넘어가시면 됩니다.</p> <h3 id="_4-에디터에서-생성한-프로젝트열기"><a href="#_4-에디터에서-생성한-프로젝트열기" class="header-anchor">#</a> 4. 에디터에서 생성한 프로젝트열기</h3> <div class="language- extra-class"><pre class="language-text"><code>에디터에서 생성한 프로젝트의 디렉토리를 추가하거나 open 하면됩니다.
</code></pre></div><h3 id="_5-로컬에서-웹-띄우기"><a href="#_5-로컬에서-웹-띄우기" class="header-anchor">#</a> 5. 로컬에서 웹 띄우기</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> run serve
</code></pre></div><h3 id="_6-브라우저에서-생성한-프로젝트-확인하기"><a href="#_6-브라우저에서-생성한-프로젝트-확인하기" class="header-anchor">#</a> 6. 브라우저에서 생성한 프로젝트 확인하기</h3> <div class="language-bash extra-class"><pre class="language-bash"><code>http://127.0.0.1:8080/
<span class="token comment"># or</span>
http://localhost:8080/
</code></pre></div><p>빈페이지가 아닌, 아래와 같은 화면이 나오면 성공</p> <img src="/images/vue-hello.png"> <hr> <p>저번에 vue cli를 활용해서 vue 프로젝트를 간단하게 생성했습니다.</p> <p>아래 그림은 생성한 프로젝트의 src/App.vue를 열어본 모습입니다.</p> <img src="/images/vue-init-project-dir.png"> <p>코드를 보시면, 상단에 template내에 html태그'처럼' 생긴것들이 눈에 보입니다.</p> <p>그리고 HelloWorld 태그를 보시죠.</p> <p>html태그에서는 볼수 없던 태그이죠?</p> <p>이름만 봐도 누군가 커스텀으로 만든것처럼 보입니다.</p> <img src="/images/vue-script-components.png"> <p>위 그림을 보시죠</p> <p>저런식으로 export default로 내보낸 vue 객체내에,</p> <p>components 객체에 변수를 바인딩하게되면,</p> <p>템플릿에서 사용가능한 컴포넌트가 됩니다.</p> <p>HelloWorld는 컴포넌트라는 것이죠.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> HelloWorld <span class="token keyword">from</span> <span class="token string">&quot;./components/HelloWorld.vue&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>스크립트의 첫줄을 보시면 위의 코드를 보실 수 있는데요,</p> <p>HelloWorld 컴포넌트는 components 디렉토리에 존재하는걸 알 수 있습니다.</p> <p>그렇다면 컴포넌트라는게 무엇일까요.</p> <p>이해하기쉽게 **'html 엘리먼트의 집합체'**라고도 표현할 수 있겠습니다.</p> <p>정확하게는 vue 객체라고 표현하는게 올바릅니다.</p> <p>html 엘리먼트가 없는 컴포넌트도 있거든요.</p> <p>vue 컴포넌트에는 다양한 옵션(기능)들이 존재합니다.</p> <p>최종적으로 vue의 여러가지 컴포넌트들을 조합해서 하나의 웹사이트가 구성됩니다.</p> <p>그리고 싱글파일컴포넌트(SFC)라는 용어가 있는데요,</p> <p>HelloWorld.vue 처럼, 확장자를 vue로 가지면서,</p> <p>export default하는 객체가 있다면, 그것을 싱글파일컴포넌트라고 부릅니다.</p> <p>(파일하나에 여러개의 vue 컴포넌트를 생성할 수 있습니다.)</p> <hr> <p>이제 컴포넌트에 대한 감이 어느정도 잡혔습니다.</p> <p>프로젝트에 컴포넌트를 추가해보며, 조금 더 이해하도록 합시다.</p> <p>먼저 src/components 폴더내에 ByeWorld.vue를 생성합니다.</p> <p>그리고 내용을 작성하도록 합니다.</p> <p>먼저 템플릿부터 작성하겠습니다만, App.vue에서 보이는 구조처럼</p> <p>템플릿, 스크립트, 스타일 순서로 코드를 작성하면 됩니다.</p> <div class="language-markup extra-class"><pre class="language-markup"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    Good Bye World!
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>딱히 기능이 없는, div태그 하나뿐인 컴포넌트입니다.</p> <p>이제 바로 아래에 작성할 자바스크립트는</p> <div class="language-markup extra-class"><pre class="language-markup"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
 <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>여기에 스크립트 작성<span class="token operator">--</span><span class="token operator">&gt;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>이런식으로 스크립트 태그안에 작성해주세요.</p> <p>vue/cli로 프로젝트를 생성하고 기본 소스코드를 보면</p> <p>세미콜론이 생략되어있는것을 볼수있는데, 저는 세미콜론을 사용하는것을 선호합니다.</p> <p>취향이므로 적절히 생략해주세요.</p> <p>같은 맥락(?)으로 객체 마지막 프로퍼티뒤에 콤마붙이는걸 좋아합니다. (배열제외)</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;ByeWorld&quot;</span><span class="token punctuation">,</span> <span class="token comment">//이름은 컴포넌트파일의 이름과 같게해주세요</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>마지막으로 스타일은 이렇게 작성해주세요</p> <p>마찬가지로 style태그로 꼭 묶어주세요</p> <div class="language-markup extra-class"><pre class="language-markup"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
 &lt;!--여기에 스타일 작성--&gt;
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.text</span> <span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>모두 작성하셨다면 아래 그림과 같은 소스코드형태가 됩니다.</p> <img src="/images/vue-3byeworld.png"> <p>정말 간단한 싱글파일컴포넌트를 작성해보았습니다.</p> <p>만들기만했으므로, 웹에는 보이지않습니다.</p> <p>이제 작성한 컴포넌트가 웹에 보여질수있도록 import 해봅시다.</p> <p>src/App.vue 를 열어주세요.</p> <p>먼저 스크립트 부분에</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> ByeWorld <span class="token keyword">from</span> <span class="token string">&quot;./components/ByeWorld.vue&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>이 코드를 추가해주시구요.</p> <p>import한 ByeWorld컴포넌트를 components에도 추가해줍니다.</p> <p>그리고 상단의 템플릿에서도 ByeWorld를 추가해줍니다.</p> <p>설명대로 진행하셨다면, 소스코드는 아래그림처럼 됩니다.</p> <img src="/images/vue-3app.png"> <p>소스를 저장하시고 웹을 확인해보시면, 페이지 하단에 Good Bye World! 문구가 추가된걸 볼 수 있습니다.</p> <hr> <p>저번에 컴포넌트 추가하는방법을 익혔습니다!</p> <p>그렇다면 이제 컴포넌트에 대해 좀 더 자세히 알아보도록 합시다.</p> <h2 id="배경지식"><a href="#배경지식" class="header-anchor">#</a> 배경지식</h2> <p>컴포넌트 기본에서 언급했던 것과 같이, vue.js에서 컴포넌트는 vue객체일뿐입니다.</p> <p>싱글파일컴포넌트로 컴포넌트를 생성할때,</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>이런식으로 객체를 생성하고, export 합니다.</p> <p>그냥 객체일뿐인데, 메소드나 라이프싸이클훅에서 this를 콘솔에 찍어보면,</p> <p>vue객체가 됩니다.</p> <p>export 하고나서 컴포넌트를 바인딩하기전에,</p> <p>vue 라이브러리 내부에서 뭔가 처리해주는게 틀림없습니다.</p> <h2 id="단방향-데이터-플로우"><a href="#단방향-데이터-플로우" class="header-anchor">#</a> 단방향 데이터 플로우</h2> <p>최신 ui 라이브러리(react, vue)가 채택하고있는 데이터플로우는 단방향입니다.</p> <p>기본적으로는 부모컴포넌트에서 자식으로 데이터를 내려주고, 자식은 받아서 렌더링만 하는게</p> <p>권장되는방법입니다.</p> <p>그런데 개발하다보면, 꼭 그렇게만 할수없을때도 있습니다.</p> <p>자식에서 부모컴포넌트로 데이터를 돌려줘야할때도있고.. props로 받은 데이터를 수정하고 싶을때도 있습니다.</p> <h2 id="이벤트버스"><a href="#이벤트버스" class="header-anchor">#</a> 이벤트버스</h2> <p>이렇게 난처할때, 사용할 수 있는게 vue.js에서는 이벤트입니다.</p> <p>vue.js는 친절하게도 이벤트 인터페이스를 아주 편하게 구현해놨습니다. 사용만 하면됩니다.</p> <p>@input, @change 이런걸 보신적있나요? 이런게 모두 이벤트입니다.</p> <p>@가 v-on의 축약형이란걸 알게되는순간, 아~ 하고 이해하게됩니다.</p> <p>아래서 설명하고있지만 이벤트는 emit으로 쏘고, on으로 받거든요.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&quot;change&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>를 통해서 상위컴포넌트로 이벤트를 전달할 수도 있죠. (상위컴포넌트에서 @change, 혹은 $on으로 받습니다)</p> <p>여기에서 this는, vue객체겠죠. 여기서 이벤트버스를 사용할 수 있는 힌트를 얻었습니다.</p> <p>$emit으로 이벤트를 전달하고 $on으로 받는다고했죠?</p> <p>그리고 그 두개의 메소드는 vue객체의 메소드죠.</p> <p>그러면 이제 main.js처럼 entry point에 이벤트버스를 생성해보겠습니다.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// ...some code</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$eventBus <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ...some code</span>
</code></pre></div><p>쨘! 이렇게하면 모든 vue객체에서 $eventBus로 접근하여 이벤트버스를 사용할수 있습니다!</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$eventBus<span class="token punctuation">.</span>$emit<span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$emit<span class="token punctuation">;</span>
</code></pre></div><p>이렇게 두개의 이벤트를 사용할 수 있게 됐습니다.</p> <p>프로토타입에 등록한 $eventBus는 부모자식 상관없이 이벤트를 주고 받을 수 있습니다.</p> <p>그런데 this.$emit은 자기 자신의 부모컴포넌트 '인스턴스'로만 이벤트를 쏘게됩니다.</p> <hr> <p>쨘.. 이런식으로 컴포넌트 state가 있는데, 각 state가 바뀔때마다, 이벤트버스로 데이터변경을 알리고싶을때,</p> <p>메소드를 동적으로 만들때! vuex의 mapMutations처럼!!! 이럴때 유용합니다.</p> <p>하나하나 event emit하고, 받는곳에서는 on으로 하나하나 다 받기 귀찮잖아요.</p> <p>자바스크립트니까 동적으로 구현해봅시다.</p> <p>먼저 state!</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token constant">SURVEY_INFO_STATE</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">surveyName</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">startDate</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">startTime</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">endDate</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">endTime</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">surveyOrgan</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">surveyDescription</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>뷰 컴포넌트 data에 맵핑하고싶다면 ...SURVEY_INFO_STATE 이런식으로 스프레드 오퍼레이터를 쓰면됩니다.</p> <p>이해가 잘 안 되실까봐 친절하게 아래 예제코드도 있어여!ㅎㅎ</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function-variable function">data</span><span class="token operator">:</span> <span class="token parameter">vm</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token operator">...</span><span class="token constant">SURVEY_INFO_STATE</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre></div><p>이제 동적으로 메소드를 만들어봅시다.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> surveyInfoMethods <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token constant">SURVEY_INFO_STATE</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">stateName</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  surveyInfoMethods<span class="token punctuation">[</span>
    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">handleChange</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">capitalizeFirstLetter</span><span class="token punctuation">(</span>stateName<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">[</span>stateName<span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$eventBus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">change-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>stateName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>위에서 생성한 메소드도 뷰 컴포넌트에 아래와 같이 맵핑하면 됩니다</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>surveyInfoMethods<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>capitalizeFirstLetter가 뭔지 모르실까봐...아래 또 구현체를 드립니다.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> capitalizeFirstLetter <span class="token operator">=</span> <span class="token punctuation">(</span>string <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> string<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> string<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>이벤트는 아래와 같이 on으로 받을수있습니다.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token constant">SURVEY_INFO_STATE</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">stateName</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$eventBus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">change-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>stateName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">[</span>stateName<span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>간단하쥬?</p> <hr> <h2 id="vue"><a href="#vue" class="header-anchor">#</a> .vue</h2> <p>컴포넌트를 생성하는 대표적인 방법중에 하나가</p> <p>vue 라는 확장자로 컴포넌트를 만드는 방법입니다. (SFC)</p> <p>vue 파일에는 보통 순서대로 템플릿, 스크립트, 스타일이 들어가는데,</p> <p>이것을 vue-loader라는 친구가 처리해줍니다.</p> <h2 id="vue-loader"><a href="#vue-loader" class="header-anchor">#</a> vue-loader</h2> <p>vue-loader는 npm의 의존성을 관리하는 package.json의 dev dependency에서 찾아볼 수 있습니다.</p> <p>dev dependency이므로 컴파일단계에서 *.vue를 vue-loader가 해석해줍니다.</p> <p>그래서 브라우저에서 해석할 수 없는 vue확장자가 자연스럽게 실행되는것처럼 느껴지죠.</p> <h2 id="virtual-dom-가상돔"><a href="#virtual-dom-가상돔" class="header-anchor">#</a> virtual dom (가상돔)</h2> <p>또 하나의 중요한 개념이 등장했습니다.</p> <p>바로 뷰객체 혹은 SFC에서 template에 해당하는 부분인, virtual dom입니다.</p> <p>템플릿내부를 보면, 마치 태그와 생김새가 같습니다.</p> <p>하지만 내부적으로는 createElement와 같은 vue라이브러리의 메소드가</p> <p>템플릿을 파싱하여 자바스크립트 객체로 변형시킵니다.</p> <p>react에서는 render function 내에 작성한 jsx문법이 있다면, createElement와 같거나 비슷한 메소드로</p> <p>js object로 변경하는 작업이 존재합니다. render function은 아래에서 더 자세히 소개합니다.</p> <p>dom을 직접 변경하는 것은 비용이 많이 들어가는 작업입니다.</p> <p>모던 웹에서는 실시간으로 dom이 자꾸자꾸 변경되고,</p> <p>받아오는 데이터도 계속해서 변합니다.</p> <p>그런 무거운 작업을 최소화시키고자 하는것이 virtual dom입니다.</p> <p>데이터변경이 있으면, dom을 바로 변경하지않고 내부적으로 바뀐 부분만</p> <p>계산하여, 그 부분만 변경하게 됩니다.</p> <p>예를 들어, 외부 데이터로 [1,2,3] 이라는 데이터를 받았고</p> <p>템플릿에서</p> <div class="language-markup extra-class"><pre class="language-markup"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>이런식으로 렌더링한다고 가정합니다.</p> <p>그런데 [1,2,3,4]로 데이터가 갱신됐습니다. 화면을 다시 렌더링해야합니다.</p> <div class="language-markup extra-class"><pre class="language-markup"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>위에서 아래처럼 변경될것입니다.</p> <div class="language-markup extra-class"><pre class="language-markup"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>직접 변경과, virtual dom은 여기서 차이가 발생합니다.</p> <p>직접 dom을 조작하는 로직이라면 (차이점을 계산하는 라이브러리 혹은 알고리즘이 없다고 했을때)</p> <p>해당하는 기존 템플릿을 제거하고, 새로운 템플릿을 렌더링하여 특정 위치에 삽입할것입니다.</p> <p>그런데 요즘 프론트라이브러리, 프레임워크는 기존 dom에 4만 추가하는 방법을 사용합니다.</p> <p>여기에 이제 더 복잡한 템플릿이나 로직이 추가된다면, virtual dom이 훨씬 유리할것입니다.</p> <p>react에도 virtual dom개념이 존재하지만, vue와는 조금 다른 알고리즘을 사용하여서</p> <p>같은 virtual dom이지만 속도차이가 존재합니다.</p> <p>angular.js (v1)은 dom을 직접 조작하여서 속도가 상대적으로 느립니다.</p> <p>하지만 위에서 예제로 설명한 간단한 list렌더링의 경우에는 key라는 속성을 이용하여,</p> <p>list에서 어느부분이 변경됐는지 감지하고, 계산하여 바뀐부분만 변경합니다.</p> <h2 id="render-function"><a href="#render-function" class="header-anchor">#</a> render function</h2> <p>위에서 virtual dom을 js object로 변경할때, createElement라는 숨어있는 메소드를 이용한다고 말씀드렸습니다.</p> <p>화면에 컴포넌트를 렌더링할때는 render라는 메소드를 사용합니다.</p> <p>life cycle을 확인해보시면, 프레임워크마다 차이는 있겠지만</p> <p>컴포넌트가 마운트되기전에 render function을 실행합니다.</p> <div class="language- extra-class"><pre class="language-text"><code>여기서 잠깐 life cycle method에 대해 설명합니다.
life cycle method 는 말 그대로
컴포넌트의 생명주기입니다.
특정 타이밍이 되면, 자동으로 실행하는 메소드입니다. (프레임워크에서 호출합니다.)
우리가 직접 호출하지않죠.
그리고 심지어 컴포넌트가 사라질때도 컨트롤할수있습니다. (unmount || destroy)
</code></pre></div><p>그리고 컴포넌트가 업데이트되어도 실행합니다.</p> <p>react에서는 render function을 구현하지만, vue에서는 그렇지않습니다.</p> <p>템플릿부분에 작성하면, vue-loader가 자동으로 생성해주죠.</p> <h1 id="v-for"><a href="#v-for" class="header-anchor">#</a> v-for</h1> <p>v-for는 아마 v-if와 함께 템플릿에서 가장 많이 쓰게될 디렉티브이므로,</p> <p>한번 알아둘때, 잘 알아두는것이 좋습니다!</p> <p>우선, v-for는 말 그대로 반복을 의미합니다.</p> <p>예를들어, 스크립트에 아래와 같은 배열이 있다고 가정합시다.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function-variable function">data</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">vm</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">cardList</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;쥬얼리1&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;쥬얼리2&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;쥬얼리3&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;쥬얼리4&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">4</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>이것을 템플릿에 바인딩하기위해, v-for를 사용할수 있습니다.</p> <div class="language-markup extra-class"><pre class="language-markup"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(item, index) in cardList<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{item.text}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>대충 예상이 되시나요? 아래와 같이 렌더링되어야할겁니다!</p> <div class="language-markup extra-class"><pre class="language-markup"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>쥬얼리1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>쥬얼리2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>쥬얼리3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>쥬얼리4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>하지만 자바스크립트 콘솔에서는 key 어쩌고 저쩌고하는 에러, 혹은 경고를 뿜어낼것입니다.</p> <p>처음 리스트를 반복해서 렌더링할때는 문제없지만,</p> <p>배열이 변경될때, key값은 어떤 배열이 변경됐는지 계산하기위한 속성으로 사용하기때문에,</p> <p>update를 위해 지정해주는것이 좋습니다. 그러므로 키는 각 배열에서 고유한값으로 지정해주는것이 좋습니다.</p> <p>중복된 키가 존재하면, 배열이 변경되고 dom변경시 예상하지못한 결과가 나올수있겠죠.</p> <p>물론 콘솔에 에러를 보기싫은것도 당연하고요!</p> <p>그런데 중요한점은, v-for를 사용할때 key값으로 index를 사용하면 안됩니다.</p> <p>고유한값이긴하지만, 그냥 순서번호일뿐이에요. 배열의 중간값.. 길이가 3인 배열에서 index 1에 해당하는 배열을 빼더라도,</p> <p>index 1에 해당하는 배열은 기존 배열의 index 2에 해당하는 배열이 되겠죠.</p> <p>이 말은 위에 쥬얼리1,2,3,4 배열을 보시면, 쥬얼리2가 index 1이죠?</p> <p>쥬얼리2를 배열에서 빼버리면, 쥬얼리3의 index가 1이 됩니다.</p> <p>당연히 배열이 변경되고 업데이트될때 예상치못한 버그가 발생할수있죠.</p> <p>단순히 배열 끝만 변경하는 push, pop같은 메소드만 사용하거나,</p> <p>배열의 변경이 없을거라면 index를 key값으로 해도 상관없습니다.</p> <p>그러므로 key값을 index가 아닌 고유의 값으로 잘 설정해줍시다.</p> <div class="language-markup extra-class"><pre class="language-markup"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(item, index) in cardList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.value<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{item.text}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h1 id="vuex"><a href="#vuex" class="header-anchor">#</a> vuex</h1> <p>facebook의 flux 패턴과 매우 유사하다.</p> <p>단방향 데이터흐름을 갖고있으며, 용어도 거의 같다.</p> <p>흐름을 정리하자면,</p> <p>컴포넌트 =&gt; 비동기로직 =&gt; 동기로직 =&gt; 상태 이다.</p> <p>다시 정리하면,</p> <p>Component(View) =&gt; Actions =&gt; Mutations =&gt; State</p> <p>vue에서 컴포넌트의 상태를 data라고 한다.</p> <p>vuex에서 어플리케이션의 상태를 state라고 한다.</p> <p>비동기 로직은 actions에서.</p> <p>component에서 비동기로직(actions)을 dispatch 한다.</p> <p>비동기로직에서 동기로직으로 commit 한다.</p> <p>이 과정들을 통해서 app의 state가 바뀌면 re-render한다.</p> <p>간단한 counter를 만들어놓은 예제</p> <p><a href="https://github.com/jewelism/vuex_vue-router_example/tree/master/src/store" target="_blank" rel="noopener noreferrer">https://github.com/jewelism/vuex_vue-router_example/tree/master/src/store<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h1 id="vue-rx"><a href="#vue-rx" class="header-anchor">#</a> vue-rx</h1> <h2 id="v-stream-디렉티브"><a href="#v-stream-디렉티브" class="header-anchor">#</a> v-stream 디렉티브</h2> <p>스트림의 시작점으로 사용할 수 있다.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>v<span class="token operator">-</span>stream<span class="token operator">:</span>click<span class="token operator">=</span><span class="token string">&quot;myStream$&quot;</span>
</code></pre></div><h2 id="domstream"><a href="#domstream" class="header-anchor">#</a> domStream</h2> <p>템플릿에서 사용한 스트림을</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token literal-property property">domStreams</span><span class="token operator">:</span> <span class="token punctuation">[</span>‘myStream$’<span class="token punctuation">]</span>
</code></pre></div><p>이런식으로 props처럼 써주면 인스턴스내에서 this.myStream$으로 사용할 수 있다.</p> <p>vue-rx의 내부적으로 domStreams의 배열의 값들로 subject 인스턴스를 생성해주고 있다.</p> <h2 id="subscriptions"><a href="#subscriptions" class="header-anchor">#</a> subscriptions()</h2> <p>subscriptions 메소드는 computed라고 생각하면되는데,</p> <p>observable을 subscribe하고, 데이터를 받아온다는점.</p> <p>this.$watchAsObservable은 vue-rx의 내부적으로 vue의 watch를 사용하여</p> <p>값이 변하는지 확인하고, observer의 next메소드를 통해 값이 변화한것을 알려준다.</p> <p>$watchAsObservable를 사용하면, 데이터의 변화를 감지하여 observable로 변환시켜준다.</p> <h1 id="v-model-with-props"><a href="#v-model-with-props" class="header-anchor">#</a> v-model-with-props</h1> <p>vuetify 라이브러리를 사용하여 개발하는도중, 문제가 생겼다.</p> <p>v-text-field라는 vuetify에서 제공하는 컴포넌트를 사용하고싶었다.</p> <p>그리고 그 컴포넌트를 감싸고있는 똑같은 모양의 검색바를 만들고 사용하는데,</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>searchBarWrapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>searchBar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-text-field</span>
            <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>propModel<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>placeholder || '검색'<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">box</span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>이런모양의 템플릿을 매번 게시판마다 넣어줘야해서, 컴포넌트화를 시켰다.</p> <p>v-model으로 받는 데이터(상태)가 바뀌어야하는데,</p> <p>그 데이터를 props로 받기때문에, 변경할수없는문제가 생겼다.</p> <p>그래서 v-model을 삭제하고 @change=&quot;handleChangeText&quot; 를 추가하여, 부모컴포넌트에서 메소드를 만들고</p> <p>props로 내려서 문자열 변경을 감지하는 방법을 사용했다.</p> <p>그런데, @change가 트리거되는 시점이, 입력하다가 엔터를 치거나, 포커스아웃되면 그때 트리거되는 방식이다.</p> <p>입력값이 변동되면 바로바로 검색되게하는 기획인데, 기능이 어긋난다.</p> <p>그래서 바로바로 입력에 반응하는 양방향바인딩 v-model 디렉티브를 props와 함께 사용하는 방법을 아래에서 소개한다.</p> <p>우선 검색바 컴포넌트이다. 템플릿은 위에 작성되어있다.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;SearchBar&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">placeholder</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
    <span class="token literal-property property">handleChangeText</span><span class="token operator">:</span> Function<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">data</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">propModel</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>text<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>text <span class="token operator">=</span> value<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleChangeText</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>v-model을 computed로 바인딩했다.</p> <p>그러면 검색바에 뭔가 입력하면 셋팅되어있는 text라는 상태에 저장되고,</p> <p>가져올때 가져온다. 이건 그냥 템플릿에 보여주기위한 페이크라고 보면된다.</p> <p>실제 부모한테 바뀐 입력값을 전달하는것이 이제 computed의 set함수이다.</p> <p>첫번째라인은 페이크로 보여주기위한 값을 설정하는것이고,</p> <p>두번째라인, props로 받은 handleChangeText함수를 호출하는데, 파라미터로 입력값을 전달한다.</p> <p>그러면 이제 부모컴포넌트에서 검색바 객체를 생성할때,</p> <p>props로 handleChangeText메소드만 간단하게 구현해주면된다.</p> <p>부모컴포넌트의 템플릿</p> <div class="language-markup extra-class"><pre class="language-markup"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>search-bar</span> <span class="token attr-name">:handle-change-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleChangeSearchText<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>메소드</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">handleChangeSearchText</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>searchInputText <span class="token operator">=</span> text<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>이런식이다. 이렇게 구현하면, v-model에 props를 바인딩하는것과 유사한 기능을 구현할수있다.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/fe/virtual-dom.html" class="prev">Virtual DOM, Key</a></span> <span class="next"><a href="/fe/watch.html">watch 구현</a>
      →
    </span></p></div>  <div id="comment-wrap"><script src="https://utteranc.es/client.js" repo="jewelism/jewelism.github.io" issue-term="Vue Tutorial" theme="github-light" crossorigin="anonymous" async="async"></script></div></main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.d8edd250.js" defer></script><script src="/assets/js/2.b813d316.js" defer></script><script src="/assets/js/1.63ec6906.js" defer></script><script src="/assets/js/79.737ec5f0.js" defer></script>
  </body>
</html>
