(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{390:function(t,a,s){"use strict";s.r(a);var e=s(18),r=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"reactive-extension-javascript-rxjs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reactive-extension-javascript-rxjs"}},[t._v("#")]),t._v(" Reactive extension Javascript (rxjs)")]),t._v(" "),a("h2",{attrs:{id:"reactive-extension"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reactive-extension"}},[t._v("#")]),t._v(" Reactive extension")]),t._v(" "),a("h3",{attrs:{id:"reactive-programming"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reactive-programming"}},[t._v("#")]),t._v(" Reactive programming?")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" b "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" c "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nb "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//c == 3???? => reactive에서는 4…")]),t._v("\n")])])]),a("p",[t._v("마치 js 클로저를 설명하기위해 counter와 모듈패턴을 예로 하듯이..")]),t._v(" "),a("p",[t._v("reactive를 설명하기위한 대표적인 예시인 엑셀")]),t._v(" "),a("p",[t._v("엑셀시트에서 A=1, B=2, C=A+B 일때, A를 2로 변경하면 C는 3에서 4로 변경된다.")]),t._v(" "),a("p",[t._v("rx는 data flow-stream 에만 관심이 있다.")]),t._v(" "),a("p",[t._v("Stream - 어떤 글에서는 어떤 기간동안 다루게 되는 이벤트나 데이터의 컬렉션이라고 설명하고있는데")]),t._v(" "),a("p",[t._v("심플하게 표현하면 => data flow")]),t._v(" "),a("p",[t._v("참고) 자바에도 8버전에 Stream API가 나옴! 자바도 데이터플로우와 함수형의 개념을 수용 => 패러다임의 변화")]),t._v(" "),a("h3",{attrs:{id:"rx의-필요성"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rx의-필요성"}},[t._v("#")]),t._v(" rx의 필요성")]),t._v(" "),a("p",[t._v("js개발 => callback hell => promise, async/await")]),t._v(" "),a("p",[t._v("하지만 근본적인 해결책은 아니다.")]),t._v(" "),a("p",[t._v("에러처리도 마찬가지. Promise의 catch는 좋다.")]),t._v(" "),a("p",[t._v("하지만 async/await를 사용했는데 에러핸들링이 필요하다면?")]),t._v(" "),a("p",[t._v("Try catch로 wrapping 해야함.")]),t._v(" "),a("p",[t._v("정리하면 rx를 사용하게 되면 비동기 로직, 에러 핸들링에 유리하고,")]),t._v(" "),a("p",[t._v("마치 함수형처럼 stateless하고, clean한 input, output으로 사이드이펙트를 최소화하고 코드를 간결하고 유지보수하기 좋은 구조로 설계할 수 있다.")]),t._v(" "),a("p",[t._v("공식문서에도 functional이라는 단어가 포함되어있다.")]),t._v(" "),a("p",[t._v("웹 프론트 어플리케이션을 개발할때, 다소 복잡한 UI갱신 로직들은 UI 라이브러리나 프레임워크에게 맡긴다.")]),t._v(" "),a("p",[t._v("그래서 데이터플로우와 로직에만 집중할 수 있는데, 그것마저도 rx라는 라이브러리의 힘을 빌려서 clean하게 작성할 수 있다.")]),t._v(" "),a("p",[t._v("rxjs에서는 reactive를 위해서 "),a("RouterLink",{attrs:{to:"/design-pattern/observer.html"}},[t._v("Observer패턴")]),t._v("을 사용합니다.")],1),t._v(" "),a("h3",{attrs:{id:"편리함"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#편리함"}},[t._v("#")]),t._v(" 편리함")]),t._v(" "),a("p",[t._v("웹소켓은 열면 닫아줘야하고, api통신은 도중에 중단할 수 없고(최신 실험적 스펙이나 라이브러리의 힘을 빌릴순 있겠지만), 이벤트리스너는 사용하고 삭제해야한다.")]),t._v(" "),a("p",[t._v("rx를 사용하여 원하는 타이밍에 웹소켓을 닫고, api통신을 중단하고, 이벤트리스너를 자동으로 삭제하여 해제하거나 중단하는데 수고를 덜어준다.")]),t._v(" "),a("h3",{attrs:{id:"js-array의-문제점"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#js-array의-문제점"}},[t._v("#")]),t._v(" js array의 문제점")]),t._v(" "),a("p",[t._v("const myArray = someArray.filter().map().reduce()…")]),t._v(" "),a("p",[t._v("메소드마다 배열을 iterate해야하고, 다시 할당하고, 해제한다(GC)")]),t._v(" "),a("p",[t._v("이런 방식이 다소 비효율적이다.")]),t._v(" "),a("p",[t._v("이런문제는 rxjs로 해결가능하다.")]),t._v(" "),a("p",[t._v("iterate, 할당 횟수를 줄여준다. 이렇게 되면 당연히 GC도 덜한다.")]),t._v(" "),a("h3",{attrs:{id:"사용법"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#사용법"}},[t._v("#")]),t._v(" 사용법")]),t._v(" "),a("p",[t._v("js 메소드와 유사함")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'rxjs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("js의")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("Array"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("of")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//[1, 2, 3]")]),t._v("\n")])])]),a("p",[t._v("이것만 유사한게아니라 map, filter, reduce등등.. 네이밍이 같거나 아주 유사하다.")]),t._v(" "),a("p",[t._v("Promise와 유사함")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("myObservable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("subscribe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("successFn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" errorFn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" completeFn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\npromise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("successFn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" errorFn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("Promise의 구조와도 유사하쥬?")]),t._v(" "),a("h2",{attrs:{id:"몇가지-오퍼레이터-소개"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#몇가지-오퍼레이터-소개"}},[t._v("#")]),t._v(" 몇가지 오퍼레이터 소개")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fromEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("inputElement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'keyup'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//엘리멘트의 이벤트 발생을 관찰한다.")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pluck")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'target'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'value'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//위에서 관찰하는 엘리먼트의 값을 가져온다.")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("callback"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* js의 filter와 유사하다. callback에 (text)=> text.length>=3 이런식으로 작성하여 조건을 걸수있다.*/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("debounceTime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ms"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* ms에는 ms단위로 숫자를 적어준다. lodash의 debounce와 유사하다. 시간만큼 지난후 리턴. debounceTime은 input에 뭔가 입력하고, 자동으로 request를 하는것을 구현할때 유용하다.\n*/")]),t._v("\ndistinctUntilChanged "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//중복된 이벤트 제거")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("flatMapLatest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('/* 이전에 만들어진 observable을 무시하고 가장 마지막의 observable을 새로운 observable로 만들어준다. param의 예제로는 Promise가 가능하다. 이말은 Promise도 "스트림화"가 가능하다는것이다.*/')]),t._v("\n")])])]),a("p",[t._v("그 외 여러가지 객체들이나 오퍼레이터를 사용하고 싶다면..")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://rxjs-dev.firebaseapp.com/api",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://rxjs-dev.firebaseapp.com/api"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"hot-eager-cold-lazy-observable"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hot-eager-cold-lazy-observable"}},[t._v("#")]),t._v(" Hot(eager), Cold(lazy) observable")]),t._v(" "),a("p",[t._v("observable은 Subscriber가 있을때 이벤트가 발생하면, 이벤트를 전달한다")]),t._v(" "),a("p",[t._v("Hot observable은 subscriber가 없어도, 이벤트를 전달하는 로직을 실행한다")]),t._v(" "),a("p",[t._v("Cold observable은 subscriber가 없으면, 이벤트를 전달하는 로직을 실행하지않는다.")]),t._v(" "),a("h3",{attrs:{id:"rxjs6버전부터-바뀐-문법들"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rxjs6버전부터-바뀐-문법들"}},[t._v("#")]),t._v(" rxjs6버전부터 바뀐 문법들")]),t._v(" "),a("p",[t._v("rxjs6버전부터는 문법이 함수형처럼 바뀌었다.")]),t._v(" "),a("p",[t._v("operators는 이제 pipe를 통해 묶어서 사용하면된다.")]),t._v(" "),a("p",[t._v("Ex)")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("myObservable\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//이 부분을 보세요")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("subscribe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("이런식으로 map같은 오퍼레이터들을 체이닝했지만,")]),t._v(" "),a("p",[t._v("rxjs6버전이상은 pipe를 통해 묶어서 써야한다.")]),t._v(" "),a("p",[t._v("Ex)")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" map "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'rxjs/operators'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nmyObservable\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pipe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//이 부분이 달라졌쥬?")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("subscribe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("메소드가 아닌 함수가 되어서 import해야하고 오퍼레이터 사용도 달라졌다.")]),t._v(" "),a("ol",[a("li",[t._v("catch() => catchError()")]),t._v(" "),a("li",[t._v("do() => tap()")]),t._v(" "),a("li",[t._v("finally() => finalize()")]),t._v(" "),a("li",[t._v("switch() => switchAll()")]),t._v(" "),a("li",[t._v("throw() => throwError()")]),t._v(" "),a("li",[t._v("fromPromise() => from()")])]),t._v(" "),a("p",[t._v("등등...")]),t._v(" "),a("p",[t._v("이전 버전을 사용하려면 npm install --save rxjs-compat 를 해주면 된다고 한다.")]),t._v(" "),a("h3",{attrs:{id:"subject-observable-차이"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#subject-observable-차이"}},[t._v("#")]),t._v(" Subject, Observable 차이")]),t._v(" "),a("ol",[a("li",[t._v("Subject는 Observable처럼 구독할수있다.")]),t._v(" "),a("li",[t._v("Subject는 Observable을 extends했다.")]),t._v(" "),a("li",[t._v("Subject는 다른 Observable을 구독할수있다는 점에서 다름.")])]),t._v(" "),a("hr"),t._v(" "),a("h3",{attrs:{id:"reference"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reference"}},[t._v("#")]),t._v(" Reference")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://rxjs-dev.firebaseapp.com/api",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://rxjs-dev.firebaseapp.com/api"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.slideshare.net/benlesh1/rx-js-and-reactive-programming-may-2015",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.slideshare.net/benlesh1/rx-js-and-reactive-programming-may-2015"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.slideshare.net/sunhyouplee/vuejs-reactive-programming-vuetiful-korea-2nd",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.slideshare.net/sunhyouplee/vuejs-reactive-programming-vuetiful-korea-2nd"),a("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=r.exports}}]);