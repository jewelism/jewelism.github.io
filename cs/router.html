<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>router | Jewelry Blog</title>
    <meta name="generator" content="VuePress 1.9.10">
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-NG6SBMZL');</script>
    <link rel="icon" href="/images/logo.png">
    <meta name="description" content="dev blog">
    <meta property="og:title" content="Jewelry Blog">
    <meta property="og:description" content="dev blog">
    <meta name="naver-site-verification" property="naver-site-verification" content="5b2f37c7b4199869388745a2b48d71230f79701b">
    
    <link rel="preload" href="/assets/css/0.styles.7b19a011.css" as="style"><link rel="preload" href="/assets/js/app.d8edd250.js" as="script"><link rel="preload" href="/assets/js/2.b813d316.js" as="script"><link rel="preload" href="/assets/js/1.63ec6906.js" as="script"><link rel="preload" href="/assets/js/52.c528219a.js" as="script"><link rel="prefetch" href="/assets/js/10.68915e8a.js"><link rel="prefetch" href="/assets/js/100.d48fb8d1.js"><link rel="prefetch" href="/assets/js/101.b5ebbd9c.js"><link rel="prefetch" href="/assets/js/102.982f90cb.js"><link rel="prefetch" href="/assets/js/103.c96dc806.js"><link rel="prefetch" href="/assets/js/104.f1a3e6c7.js"><link rel="prefetch" href="/assets/js/105.bee66f51.js"><link rel="prefetch" href="/assets/js/106.d4e221ac.js"><link rel="prefetch" href="/assets/js/107.17fa7b87.js"><link rel="prefetch" href="/assets/js/108.036293f3.js"><link rel="prefetch" href="/assets/js/109.f902e0bc.js"><link rel="prefetch" href="/assets/js/11.90e8c648.js"><link rel="prefetch" href="/assets/js/110.23cf18f3.js"><link rel="prefetch" href="/assets/js/111.25a08651.js"><link rel="prefetch" href="/assets/js/112.b575ba09.js"><link rel="prefetch" href="/assets/js/113.39d46774.js"><link rel="prefetch" href="/assets/js/114.54b1d77d.js"><link rel="prefetch" href="/assets/js/115.49ad11c7.js"><link rel="prefetch" href="/assets/js/116.d1eb4002.js"><link rel="prefetch" href="/assets/js/117.641cbc64.js"><link rel="prefetch" href="/assets/js/118.8c20b0ee.js"><link rel="prefetch" href="/assets/js/119.5e1499c4.js"><link rel="prefetch" href="/assets/js/12.566e820c.js"><link rel="prefetch" href="/assets/js/120.bd6dbcbf.js"><link rel="prefetch" href="/assets/js/121.fdb8d482.js"><link rel="prefetch" href="/assets/js/122.2b358183.js"><link rel="prefetch" href="/assets/js/123.47da7d6f.js"><link rel="prefetch" href="/assets/js/124.25f4b64b.js"><link rel="prefetch" href="/assets/js/125.3600f35d.js"><link rel="prefetch" href="/assets/js/126.bf9c3ab6.js"><link rel="prefetch" href="/assets/js/127.2a668d3c.js"><link rel="prefetch" href="/assets/js/128.f6e7d7a4.js"><link rel="prefetch" href="/assets/js/129.de543284.js"><link rel="prefetch" href="/assets/js/13.7d78815a.js"><link rel="prefetch" href="/assets/js/130.b8eb138d.js"><link rel="prefetch" href="/assets/js/131.df799559.js"><link rel="prefetch" href="/assets/js/132.87f8fdd2.js"><link rel="prefetch" href="/assets/js/133.1ecedbc9.js"><link rel="prefetch" href="/assets/js/134.050b3131.js"><link rel="prefetch" href="/assets/js/135.67fab777.js"><link rel="prefetch" href="/assets/js/136.5606edf6.js"><link rel="prefetch" href="/assets/js/137.e66661fb.js"><link rel="prefetch" href="/assets/js/138.f9436bbb.js"><link rel="prefetch" href="/assets/js/139.8ea1d596.js"><link rel="prefetch" href="/assets/js/14.a384c04f.js"><link rel="prefetch" href="/assets/js/140.ac02ebc5.js"><link rel="prefetch" href="/assets/js/141.14b29649.js"><link rel="prefetch" href="/assets/js/142.e57ed7db.js"><link rel="prefetch" href="/assets/js/143.06f2348c.js"><link rel="prefetch" href="/assets/js/144.a54de9c0.js"><link rel="prefetch" href="/assets/js/145.8714c371.js"><link rel="prefetch" href="/assets/js/146.afd802e8.js"><link rel="prefetch" href="/assets/js/15.5581965d.js"><link rel="prefetch" href="/assets/js/16.36a6df8c.js"><link rel="prefetch" href="/assets/js/17.58419ce3.js"><link rel="prefetch" href="/assets/js/18.78334840.js"><link rel="prefetch" href="/assets/js/19.31ca3599.js"><link rel="prefetch" href="/assets/js/20.55945dbc.js"><link rel="prefetch" href="/assets/js/21.6ddb8d2b.js"><link rel="prefetch" href="/assets/js/22.8d390135.js"><link rel="prefetch" href="/assets/js/23.5d48bf66.js"><link rel="prefetch" href="/assets/js/24.98a3f2a7.js"><link rel="prefetch" href="/assets/js/25.58157085.js"><link rel="prefetch" href="/assets/js/26.f12be7ca.js"><link rel="prefetch" href="/assets/js/27.8b47009c.js"><link rel="prefetch" href="/assets/js/28.94f9feb0.js"><link rel="prefetch" href="/assets/js/29.5b7d2648.js"><link rel="prefetch" href="/assets/js/3.333fb557.js"><link rel="prefetch" href="/assets/js/30.705c0baa.js"><link rel="prefetch" href="/assets/js/31.fdb59e0f.js"><link rel="prefetch" href="/assets/js/32.2383a55b.js"><link rel="prefetch" href="/assets/js/33.bfbec105.js"><link rel="prefetch" href="/assets/js/34.69f76c89.js"><link rel="prefetch" href="/assets/js/35.9f0aa7e6.js"><link rel="prefetch" href="/assets/js/36.02beee59.js"><link rel="prefetch" href="/assets/js/37.19802134.js"><link rel="prefetch" href="/assets/js/38.5653c840.js"><link rel="prefetch" href="/assets/js/39.e3b746fa.js"><link rel="prefetch" href="/assets/js/4.95c43ca0.js"><link rel="prefetch" href="/assets/js/40.96d79a78.js"><link rel="prefetch" href="/assets/js/41.268c3897.js"><link rel="prefetch" href="/assets/js/42.2339675a.js"><link rel="prefetch" href="/assets/js/43.826b5267.js"><link rel="prefetch" href="/assets/js/44.7eabcb79.js"><link rel="prefetch" href="/assets/js/45.e9a3bb83.js"><link rel="prefetch" href="/assets/js/46.7a822972.js"><link rel="prefetch" href="/assets/js/47.5e9b258d.js"><link rel="prefetch" href="/assets/js/48.6db42384.js"><link rel="prefetch" href="/assets/js/49.99deed78.js"><link rel="prefetch" href="/assets/js/5.9d9e1e88.js"><link rel="prefetch" href="/assets/js/50.7829d7c4.js"><link rel="prefetch" href="/assets/js/51.9941a5c2.js"><link rel="prefetch" href="/assets/js/53.b486f5b8.js"><link rel="prefetch" href="/assets/js/54.3590e606.js"><link rel="prefetch" href="/assets/js/55.3f5aa439.js"><link rel="prefetch" href="/assets/js/56.d22c590b.js"><link rel="prefetch" href="/assets/js/57.af5f42f5.js"><link rel="prefetch" href="/assets/js/58.b12ffd2f.js"><link rel="prefetch" href="/assets/js/59.32c30e64.js"><link rel="prefetch" href="/assets/js/60.e8005a21.js"><link rel="prefetch" href="/assets/js/61.322cf604.js"><link rel="prefetch" href="/assets/js/62.c11f3a96.js"><link rel="prefetch" href="/assets/js/63.c5506d7b.js"><link rel="prefetch" href="/assets/js/64.0d80102d.js"><link rel="prefetch" href="/assets/js/65.dfb2d864.js"><link rel="prefetch" href="/assets/js/66.370ef41d.js"><link rel="prefetch" href="/assets/js/67.88c9e001.js"><link rel="prefetch" href="/assets/js/68.f338a0d2.js"><link rel="prefetch" href="/assets/js/69.bdb4c5b0.js"><link rel="prefetch" href="/assets/js/70.c38e5f80.js"><link rel="prefetch" href="/assets/js/71.88270db3.js"><link rel="prefetch" href="/assets/js/72.dcd32982.js"><link rel="prefetch" href="/assets/js/73.58f68dab.js"><link rel="prefetch" href="/assets/js/74.4ada683a.js"><link rel="prefetch" href="/assets/js/75.a6d32488.js"><link rel="prefetch" href="/assets/js/76.c0d0c351.js"><link rel="prefetch" href="/assets/js/77.5c46677d.js"><link rel="prefetch" href="/assets/js/78.d2e954df.js"><link rel="prefetch" href="/assets/js/79.737ec5f0.js"><link rel="prefetch" href="/assets/js/8.ca781c48.js"><link rel="prefetch" href="/assets/js/80.5d71fe19.js"><link rel="prefetch" href="/assets/js/81.217ef913.js"><link rel="prefetch" href="/assets/js/82.7362843c.js"><link rel="prefetch" href="/assets/js/83.5e90d306.js"><link rel="prefetch" href="/assets/js/84.4420de65.js"><link rel="prefetch" href="/assets/js/85.473092ef.js"><link rel="prefetch" href="/assets/js/86.04701726.js"><link rel="prefetch" href="/assets/js/87.83273b43.js"><link rel="prefetch" href="/assets/js/88.676b6f5c.js"><link rel="prefetch" href="/assets/js/89.9ba0b94d.js"><link rel="prefetch" href="/assets/js/9.13b3374f.js"><link rel="prefetch" href="/assets/js/90.eb51ebaa.js"><link rel="prefetch" href="/assets/js/91.7b0c3d93.js"><link rel="prefetch" href="/assets/js/92.af3e1247.js"><link rel="prefetch" href="/assets/js/93.776e9706.js"><link rel="prefetch" href="/assets/js/94.43b48ebf.js"><link rel="prefetch" href="/assets/js/95.ba8e4bc1.js"><link rel="prefetch" href="/assets/js/96.2fa5d3a3.js"><link rel="prefetch" href="/assets/js/97.1c4f3144.js"><link rel="prefetch" href="/assets/js/98.0c7cbaa6.js"><link rel="prefetch" href="/assets/js/99.b171f0e5.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.73bb25e3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7b19a011.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name" style="margin-left:15px;">Jewelry Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/about.html" class="nav-link">About</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/about.html" class="nav-link">About</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/js" class="sidebar-heading clickable"><span>Javascript</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/fe" class="sidebar-heading clickable"><span>Front-End</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/browser" class="sidebar-heading clickable"><span>Web Browser</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/server-side" class="sidebar-heading clickable"><span>Server Side</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/cs" class="sidebar-heading clickable router-link-active open"><span>Computer Science</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/cs/data-structure.html" class="sidebar-link">자료구조</a></li><li><a href="/cs/ddns.html" class="sidebar-link">ddns</a></li><li><a href="/cs/http.html" class="sidebar-link">http</a></li><li><a href="/cs/port.html" class="sidebar-link">port</a></li><li><a href="/cs/process.html" class="sidebar-link">process, thread</a></li><li><a href="/cs/router.html" aria-current="page" class="active sidebar-link">router</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cs/router.html#인터넷-공유기-소형-라우터와-ip" class="sidebar-link">인터넷 공유기, 소형 라우터와 ip</a></li></ul></li><li><a href="/cs/tcp-udp.html" class="sidebar-link">tcp-udp</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/git" class="sidebar-heading clickable"><span>Git</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/design-pattern" class="sidebar-heading clickable"><span>Design Pattern</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/nodejs" class="sidebar-heading clickable"><span>Node.js</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/godot" class="sidebar-heading clickable"><span>godot (고도 게임엔진)</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/tip" class="sidebar-heading clickable"><span>개발 관련 Tip</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="router"><a href="#router" class="header-anchor">#</a> router</h1> <h2 id="인터넷-공유기-소형-라우터와-ip"><a href="#인터넷-공유기-소형-라우터와-ip" class="header-anchor">#</a> 인터넷 공유기, 소형 라우터와 ip</h2> <h3 id="ip"><a href="#ip" class="header-anchor">#</a> IP</h3> <div class="language- extra-class"><pre class="language-text"><code>IP란 네트워크에서 컴퓨터들이 서로 통신하기 위한 점으로 구분된 4개의 번호입니다.

공인 IP, Public IP - ISP에서 제공하는 IP입니다. 전세계에서 유일한 번호를 갖습니다.

내부 IP, Private IP - 특정 네트워크 내부에서만 사용하는 IP입니다.
</code></pre></div><p>127.0.0.1 은 자기 자신 컴퓨터의 ip주소입니다.</p> <p>hosts 설정을 보면 기본적으로 localhost라는 도메인이 127.0.0.1에 바인딩된 것을 볼 수 있는데요,</p> <p>그래서 개발서버를 돌리면</p> <div class="language- extra-class"><pre class="language-text"><code>127.0.0.1:포트
localhost:포트
</code></pre></div><p>둘 중에 하나로 접근하면 됩니다.</p> <p>도메인이 달라서 CORS에러가 난다면,</p> <p>hosts파일을 수정해서 해당 아이피를 CORS에러나는 도메인으로 설정하면 해결가능합니다.</p> <h3 id="포트포워딩-dmz-twin-ip"><a href="#포트포워딩-dmz-twin-ip" class="header-anchor">#</a> 포트포워딩, DMZ(Twin IP)</h3> <p>포트포워딩은 IP:포트 조합으로 통신을 다른곳으로 넘겨줄 수 있는 기능입니다.</p> <p>DMZ는 내부IP를 하나 지정해서 공인 IP의 모든 포트를 할당하는 기능입니다. 약간 편리하고 단순한 포트포워딩이라고 생각하셔도 될거같아요.</p> <p>여기서 잠깐..</p> <div class="language- extra-class"><pre class="language-text"><code>내부ip는 내부 네트워크에서만 사용할 수 있으므로,
외부에서 내부ip가 할당된 컴퓨터에 접속하려면, 공인 ip로 접근해야하는데, 접속하기위한 연결고리가 바로 포트포워딩 혹은 DMZ입니다.
</code></pre></div><p>예를 들어, 내부 네트워크 192.168.0.2:3000에 할당된 로컬 개발서버를 외부에서 접근하는 일은 포트포워딩 혹은 DMZ가 필요하겠죠.</p> <h3 id="공유기"><a href="#공유기" class="header-anchor">#</a> 공유기</h3> <p>공유기는 이름처럼 인터넷 회선을 공유하여 여러 디바이스에서 인터넷을 접속할 수 있도록 도와줍니다. (신호를 적절히 분리해서 여러개로 내보내줍니다.)</p> <p>무선 공유기는 무선 통신(wifi)를 사용할 수 있는 공유기겠죠?</p> <div class="language- extra-class"><pre class="language-text"><code>192.168.0.1
</code></pre></div><p>이런 IP주소를 보신적 있으신가요?</p> <p>흔히 가정용 공유기에서 많이 사용되는 공유기 주소죠.</p> <p>공유기도 cpu가 내장된 하나의 컴퓨터이자 라우터입니다.</p> <p>일반 가정집에는 보통 한개의 공인 IP(public ip)주소를 할당받게되죠.</p> <p>그 ip를 공유기가 받아서 인터넷통신을 하는데,</p> <p>여러대의 컴퓨터에 같은 ip를 할당하면 문제가 발생하겠죠? 공유기가 어떤 컴퓨터와 통신해야하는지 모르니까요.</p> <p>그래서 공유기의 내부적으로 DHCP를 활용해서 각 컴퓨터마다 private ip(사설 ip)를 생성해서 할당하게 됩니다.</p> <p>공유기자신에게 할당한 기본 ip주소가 192.168.0.1이구요.</p> <p>DHCP라는건 Dynamic Host Configuration Protocol의 약자인데요,</p> <p>네트워크 관리자들이 조직 내의 네트워크 상에서 IP 주소를 중앙에서 관리하고 할당해줄 수 있도록 해주는 프로토콜이에요.</p> <p>기본적으로 동적으로 IP를 할당해서 내부IP 충돌이나 IP부족을 해결하는데요,</p> <p>필요한경우 랜카드 고유 주소인 MAC주소를 이용하여 내부IP도 고정하여 사용할 수 있습니다.</p> <h3 id="공유기-확장하기-2개-연결"><a href="#공유기-확장하기-2개-연결" class="header-anchor">#</a> 공유기 확장하기 - 2개 연결</h3> <p>우리집에는 공유기가 거실에 있어요.</p> <p>그리고 제 컴퓨터는 제 방에 있고요. 그래서 벽이 존재하는데요,</p> <p>5ghz의 최대 효율을 내는 통신을 하려면 벽이 없어야한다고 합니다.</p> <p>그리고 여러대의 유선랜 컴퓨터를 사용중이기도 하고요.</p> <p>그래서 제 방에 추가적인 공유기를 설치하면서, 그 가이드를 공유드리고자 합니다.</p> <p>가정집엔 따로 신청하지 않는 이상? 인터넷 회선이 하나씩 들어오죠. 공인 IP는 한개입니다.</p> <p>그 회선을 첫번째 메인 공유기 WAN포트에 물립니다. 저같은 경우는 거실에 있는 공유기죠.</p> <p>다음으론 메인 공유기 LAN포트와 제 방에 있는 서브 공유기의 WAN포트를 연결합니다.</p> <p>각 공유기의 전원만 연결하면 하드웨어 세팅은 이정도로 끝납니다.</p> <p>메인 공유기의 설정은 너무 쉽습니다. 처음 접속하면 설정 마법사라는 친구가 알아서 해줄거에요.</p> <p>하지만 서브 공유기는 내부 IP충돌을 막기위해 따로 설정해줘야합니다.</p> <p>메인공유기의 설정에 접속해서 내부 IP 범위를 확인합니다.</p> <p>아마 보통 192.168.0.1 ~ 192.168.0.255 을 사용할거에요.</p> <p>이제 서브 공유기에 접속해서 내부 IP 범위를 확인하고, 충돌한다면 변경해야해요.</p> <p>저는 단순히 192.168.1.1 ~ 192.168.1.255 이렇게 변경했어요.</p> <p>쉽죠? 설정은 이걸로 끝입니다.</p> <p>그런데 제 방에 있는 메인 컴퓨터에 DMZ를 설정하고 싶었어요.</p> <p>그래서 그 방법도 공유드리자면...</p> <p>우선 메인 공유기의 DMZ를 설정할때 두번째 공유기의 MAC주소로 설정하고요,</p> <p>그리고 서브 공유기의 DMZ 설정에서 메인 컴퓨터의 MAC주소로 설정하면 됩니다.</p> <img src="/images/dhcp.png"> <h3 id="개인서버-구축하기"><a href="#개인서버-구축하기" class="header-anchor">#</a> 개인서버 구축하기</h3> <p>위의 환경을 세팅했다면 개인서버 구축은 매우 쉽습니다.</p> <p>저는 개인서버에는 우분투를 설치했는데요,</p> <p>ubuntu 16버전이상 기준으로 랜선을 연결하면 자동으로 인터넷을 감지합니다.</p> <p>개발용 컴퓨터에서 ssh로 서버에 접속하려면 위의 설정에서 추가적으로 22번 포트를 꼭 포트포워딩해줘야합니다.</p> <p>터미널에서 아래와 같은 명령어로 개인서버에 접속을 시도해보시면 됩니다.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">ssh</span> 사용자계정@ip주소or도메인
</code></pre></div><p>정상적으로 접속된다면 성공적.</p> <p>이제 추가적인 앱을 배포하고싶다면,</p> <p>ssh 설정처럼 그 앱의 포트번호를 포트포워딩해주면 됩니다.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/cs/process.html" class="prev">process, thread</a></span> <span class="next"><a href="/cs/tcp-udp.html">tcp-udp</a>
      →
    </span></p></div>  <div id="comment-wrap"><script src="https://utteranc.es/client.js" repo="jewelism/jewelism.github.io" issue-term="router" theme="github-light" crossorigin="anonymous" async="async"></script></div></main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.d8edd250.js" defer></script><script src="/assets/js/2.b813d316.js" defer></script><script src="/assets/js/1.63ec6906.js" defer></script><script src="/assets/js/52.c528219a.js" defer></script>
  </body>
</html>
